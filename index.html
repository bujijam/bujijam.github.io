<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <tittle>hi</tittle>
    </head>
    <body>
        <p>uwu</p>
        <div style="width: 50px;height: 50px;background-color: #ffcccc90;position: absolute;" id="box"></div>
        <textarea id="key"></textarea>
        <script>
            /* https://blog.csdn.net/m0_47214030/article/details/119106774
               http://c.biancheng.net/view/5955.html
            */
            window.onload = function(){
                var demo = document.getElementById("box");
                var choice = 0;
                var speed = 10;
                document.onkeydown = function(event){
                    event = event || window.event;
                    if (event.ctrlKey){
                        speed = 50;
                    }else{
                        speed = 10;
                    }
                    choice = event.keyCode;
                    console.log(choice);
                };
                document.onkeyup = function(event){
                    event = event || window.event;
                    choice = 0;
                };
                setInterval(function(){
                    switch(choice){
                        case 37:
                            demo.style.left = (demo.offsetLeft - speed) + "px";break;
                        case 38:
                            demo.style.top = (demo.offsetTop - speed) + "px";break;
                        case 39:
                            demo.style.left = (demo.offsetLeft + speed) + "px";break;
                        case 40:
                            demo.style.top = (demo.offsetTop +speed) + "px";break;
                    }
                },30);
            };
        </script>
        <script>
            var key = document.getElementById("key");
            key.onkeydown =f;
            key.onkeyup = f;
            key.onkeypress = f;
            function f (e) {
                var e = e || window.event;
                var s = e.type + " " + e.keyCode;
                key.value = s;
            }
        </script>
    </body>
</html>
